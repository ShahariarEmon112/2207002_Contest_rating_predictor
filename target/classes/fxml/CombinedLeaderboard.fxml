<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane styleClass="admin-leaderboard-root" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.contestpredictor.controller.CombinedLeaderboardController">
    
    <!-- Top Section -->
    <top>
        <VBox spacing="20" styleClass="section-box">
            <padding>
                <Insets bottom="20" left="30" right="30" top="20" />
            </padding>
            
            <Label fx:id="titleLabel" styleClass="section-title" text="ðŸ† Overall Leaderboard - All Contests">
                <font>
                    <Font name="System Bold" size="24" />
                </font>
            </Label>
            
            <Label styleClass="login-subtitle" text="Combined rankings across all finalized contests - sorted by total solves and penalty time">
                <font>
                    <Font size="13" />
                </font>
            </Label>
        </VBox>
    </top>
    
    <!-- Main Content -->
    <center>
        <ScrollPane fitToHeight="true" fitToWidth="true" styleClass="scroll-pane">
            <VBox spacing="15" styleClass="admin-leaderboard-content">
                <padding>
                    <Insets bottom="30" left="30" right="30" top="20" />
                </padding>
                
                <!-- Combined Leaderboard Table -->
                <TableView fx:id="combinedTable" prefHeight="500">
                    <columns>
                        <TableColumn fx:id="overallRankColumn" minWidth="80" prefWidth="80" text="Overall Rank" />
                        <TableColumn fx:id="usernameColumn" minWidth="150" prefWidth="200" text="Username" />
                        <TableColumn fx:id="totalSolvesColumn" minWidth="100" prefWidth="120" text="Total Solves" />
                        <TableColumn fx:id="totalPenaltyColumn" minWidth="120" prefWidth="150" text="Total Penalty (mins)" />
                        <TableColumn fx:id="contestsParticipatedColumn" minWidth="100" prefWidth="150" text="Contests Participated" />
                    </columns>
                </TableView>
                
                <!-- Legend -->
                <VBox spacing="8" style="-fx-background-color: #000000; -fx-padding: 20; -fx-background-radius: 5;">
                    <Label style="-fx-text-fill: white;" text="Details:">
                        <font><Font name="System Bold" size="13" /></font>
                    </Label>
                    <Label style="-fx-text-fill: white;" text="â€¢ Overall Rank: Position in the combined leaderboard" />
                    <Label style="-fx-text-fill: white;" text="â€¢ Total Solves: Sum of all problems solved across all contests" />
                    <Label style="-fx-text-fill: white;" text="â€¢ Total Penalty: Sum of all penalties (wrong submissions) across contests" />
                    <Label style="-fx-text-fill: white;" text="â€¢ Contests Participated: Number of contests this team/user has joined" />
                    <Label style="-fx-text-fill: white;" text="â€¢ Ranking: Teams are ranked by MOST solves first, then by LEAST penalty time" />
                </VBox>
            </VBox>
        </ScrollPane>
    </center>
</BorderPane>
